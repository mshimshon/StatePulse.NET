---
slug: gs-the-reducer
title: The Reducers
tags: [blazor, reducer, state-management, pure-functions, async, statepulse, csharp, .net]
sidebar_position: 6
---

# Reducers
<iframe width="560" height="315" src="https://www.youtube.com/embed/L-MwjfDNdc4?si=tV9C0b5HMwlbxJQA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

## Reducers ‚Äì Pure State Updates

A **reducer** is a pure function that updates a specific part of the state in response to an action.

### ‚ú® Key Principles

Reducers:

- Take the **current state** and an **action**
- Return a **new state**
- Must be **pure** ‚Äî no side effects, service calls, or randomness
- Are called **after effects**, if any exist


### üö´ Async Tips

Reducers may return `Task<TState>`, but should **avoid unnecessary `await`**. 

```csharp title="IncrementReducer.cs"
internal class IncrementReducer : IReducer<CounterState, IncrementCounterResultAction>
{
    public CounterState Reduce(CounterState state, IncrementCounterResultAction action)
        => state with { Count = action.Count };
}
```


## ‚öôÔ∏è What are Reducer Middlewares?

StatePulse uses **middleware interfaces** to tap into the lifecycle of **effects**, **reducers**, and **dispatches**.  
These middleware hooks are useful for **logging**, **metrics**, **analytics**, or **debugging** ‚Äî but should **never alter behavior** or mutate state.

> ‚ùó Middleware is observational only ‚Äî do not use it to change logic or outcomes.

`IReducerMiddleware` allows you to hook into the execution of any effect.

### Available Hooks

- `BeforeReducing(object state, object action)` ‚Äì called **before** the reducer runs
- `AfterReducing(object state, object action)` ‚Äì called **after** the reducer runs

### Example: Reducer Middleware

```csharp title="LoggingReducerMiddleware.cs"
internal class LoggingReducerMiddleware : IReducerMiddleware
{
    public Task AfterReducing(object state, object action)
    {
        Console.WriteLine($"{action.GetType().Name} Executed.");
        return Task.CompletedTask;
    }

    public Task BeforeReducing(object state, object action)
    {
        Console.WriteLine($"{state.GetType().Name} {action.GetType().Name} Executed.");
        return Task.CompletedTask;
    }
}
```